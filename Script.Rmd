---
title: "Códigos em R e Python"
author: "Ramon Moreno Ferrari em "
date: "`r format(Sys.time(), '%d/%m/%Y')`"
output: github_document #output RMD
# Para output PDF/Latex, comentar acima e descomentar abaixo:
#
#fontfamily: lmodern #https://tug.org/FontCatalogue/seriffonts.html
#header-includes:
#  - \usepackage{graphicx}
#  - \usepackage{fancyhdr}
#  - \usepackage[T1]{fontenc}
#  - \usepackage[default]{sourcesanspro}
#  - \usepackage{lmodern}
#  - \input{preamble}  
#  - \pagestyle{mystyle}
#  - \hypersetup{pageanchor=false}
#output: 
#  pdf_document:
#    keep_tex: true
---
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(reticulate)
```

```{r,warning=FALSE,message=FALSE,include=FALSE}
library(tidyverse)
library(knitr)
library(showtext)
font_add_google(name = "Roboto Slab",family = "Roboto") # https://fonts.google.com/?sort=popularity
```

## O mais básico: comentando o código
Use # para comentar o código:    
```{r}
# Isso é um comentário.
```

O mesmo (#) em Python:
```{python,warning=FALSE,message=FALSE}
# Isso também é um comentário!

# Que também é obtido por 3 aspas duplas! """
# (Muito útil para comentar grandes blocos de código rapidamente)
```
## Atribuição
No R, utilize `=` ou `<-` para atribuir o valor a uma variável.

```{r cars}
df<-cars # o sinal de = também funciona!
summary(df)
```

## Impressão de textos e variáveis
Em R:
```{r}
print("oi tudo bem?")
print(df$speed)
```

## Help-me!
Em R, utilize a função help()
```{r,eval=F}
help(print)
```

O mesmo em Python:
```{python}
help(print)
```

## Including Plots

Os plots são incluídos no Rmd. No R, utilize plot() ou o package ggplot2.

```{r pressure}
plot(pressure)
```

Em Python, utilize a biblioteca matplotlib:
```{python}
import matplotlib.pyplot as plt
# %matplotlib inline se estivesse num Jupyter Notebook
plt.plot(5,5,'o')
plt.xlabel("eixo X")
plt.ylabel("eixo Y")
plt.title("exemplo de plot")
plt.show()
```

## Importar uma planilha para o Pandas
```{python}
import numpy as np # útil para computação científica em Python
import pandas as pd # pacote para estruturar data frames
from __future__ import print_function # retrocompatibilidade python2
#!pip install xlrd
#print('xlrd instalado!')
df_can = pd.read_excel('https://github.com/ramonferrari/r_and_python/blob/main/Script_files/Canada_new.xlsx?raw=true',sheet_name="Canada by Citizenship",skiprows=range(20),skipfooter=2, engine='openpyxl')
df_can.head()
list(df_can.columns)
```

```{python}
years=list(map(str,range(1980,2014)))
years
df_can.loc['Haiti']
```

## Sobre Rmd
Utilizar `echo = FALSE` no RMarkdown faz com que o código não apareça no output, apenas o resultado (um gráfico, por exemplo!).

